## 目标
- 将底部评分控件改为与左侧栏一致的“单一五星条”样式与交互。
- 交互统一：点击某一星数设为该评分；再次点击同一星数清除为 0；视觉选中态与左侧栏一致。

## 改动范围
- 底部工具栏组件：[MarkingToolbar.swift](file:///Users/zhangchao/workspace/dev/Culler/Culler/Culler/Views/MarkingToolbar.swift)
- 主视图传参与聚合逻辑：[ContentView.swift](file:///Users/zhangchao/workspace/dev/Culler/Culler/Culler/Views/ContentView.swift)
- 参考既有交互实现：[SidebarView.swift → SidebarFiltersView](file:///Users/zhangchao/workspace/dev/Culler/Culler/Culler/Views/SidebarView.swift#L37-L53)

## 交互细节
- 显示：一行 5 颗星；已选中数量以填充星显示（与左侧栏一致：填充为黄色，未选为次级色）。
- 设定评分：点击某颗星将当前目标集评分设为该星数。
- 清除评分：若当前目标集的“共同评分”恰为所点星数，则再次点击将评分清为 0（无需“清除”按钮）。
- 混合状态：当选中集评分不一致或为 0 时，星条显示为未选中态；点击后统一为所点星数。

## 技术实现
1. 在主视图计算“共同评分”并下传
- 依据当前标记目标集（currentPhoto 或选中集），计算所有目标的共同评分值（全部相同且>0时返回该值，否则返回 0）。
- 将该值作为 `currentRating` 传入底部工具栏。
- 参考位置：`resolveMarkingTargets` 与底部工具栏构造处 [ContentView.swift:L213-L226](file:///Users/zhangchao/workspace/dev/Culler/Culler/Culler/Views/ContentView.swift#L213-L226)。

2. 修改 MarkingToolbar 接口与评分区域
- 在 `MarkingToolbar` 增加 `currentRating: Int` 入参，用于渲染选中态与决定清除逻辑。
- 将 `ratingSection` 改为单行五颗星（参考左侧栏实现），填充数量由 `currentRating` 控制。
- 点击逻辑：若 `currentRating == star` 则调用 `onSetRating(0)`；否则调用 `onSetRating(star)`。
- 移除“清除”按钮（因重复点击同值即可清除）。
- 参考实现样式：[SidebarFiltersView 评分行](file:///Users/zhangchao/workspace/dev/Culler/Culler/Culler/Views/SidebarView.swift#L37-L53)。

3. 保持现有启用/禁用与布局
- `targetCount <= 0` 时维持不可交互（已有逻辑）。
- 保留旗标与颜色标签区，不调整其交互（本次仅统一评分）。

## 验证方案
- Grid 模式：选中多张，设为 3 星；再次点击 3 星清为 0；切换为 4 星后全部更新。
- Single 模式：当前照片设为 2 星；再次点击 2 星清为 0；切换为 5 星成功。
- 混合评分：选中集评分不一致时，星条显示未选态；点击某星后统一为该评分。
- 键盘/菜单事件：既有 `.setRating` 事件仍生效（直接设定为指定值）。

## 影响与兼容
- E2E 用例仍通过（调用 `applyRating(5)` 不受影响）。
- 视觉更一致，减少“清除”按钮带来的额外点击；交互与左侧栏统一，学习成本更低。

如确认此方案，我将按上述步骤修改两个文件并完成自测。