# 侧边栏 UI 优化方案

针对您反馈的左侧侧边栏“乱”的问题，我分析了代码 (`SidebarView.swift`) 和截图，发现主要原因在于**层级嵌套过多**、**控件布局分散**以及**头部区域设计不够简洁**。

我建议进行以下优化，使其更加整洁、专业且易用：

## 1. 简化头部区域 (Header)
- **现状**：包含一个关闭侧边栏按钮和一个“导入照片”大按钮，视觉上比较分离且占空间。
- **优化**：
    - **移除关闭按钮**：侧边栏的开关通常由顶部工具栏（Toolbar）控制，不需要在侧边栏内部重复放置。
    - **优化“导入照片”按钮**：保留该核心功能，但优化其样式，使其更融入侧边栏整体风格，或者将其置顶作为一个醒目的列表项。

## 2. 优化“图库”分组 (Library)
- **现状**：使用可折叠的 `DisclosureGroup` 包裹唯一的“全部照片”选项，增加了不必要的点击层级。
- **优化**：
    - 直接将“全部照片”作为**一级菜单项**展示，或者作为一个不可折叠的 Section，减少视觉噪音。

## 3. 整理“文件夹”分组 (Folders)
- **现状**：“包含子文件夹”的开关直接作为一个列表项存在，容易误触且视觉上不协调。
- **优化**：
    - 将“包含子文件夹”开关移至**Section 标题栏**右侧（作为辅助操作），或者放入右键菜单/设置中，保持列表纯净，只显示文件夹结构。

## 4. 重构“筛选”面板 (Filters)
- **现状**：旗标、评分、颜色各自占据多行（标题+图标），导致该区域非常长，挤占了文件夹列表的空间。
- **优化**：
    - 改为**紧凑布局**：每种筛选条件占一行，左侧为标题（如“评分”），右侧直接排列星星图标。
    - 这样可以节省约 50% 的垂直空间，且对齐更整齐。

## 5. 视觉与间距微调
- 统一字体大小和颜色（使用 Secondary label color）。
- 调整列表项的缩进和间距，使其符合 macOS 原生 Sidebar 的质感。

---

### 确认后我将执行以下操作：
1.  修改 `SidebarView.swift`，重构布局结构。
2.  更新 `SidebarFiltersView` 为紧凑行布局。
3.  验证 UI 变化。
